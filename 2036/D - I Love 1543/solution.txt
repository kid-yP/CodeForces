t = int(input())for _ in range(t):    n, m = map(int, input().split())    grid = [input().strip() for _ in range(n)]        total = 0    layers = min(n, m) // 2        for layer in range(layers):        top = layer        bottom = n - layer - 1        left = layer        right = m - layer - 1                border = []                for j in range(left, right + 1):            border.append(grid[top][j])                for i in range(top + 1, bottom):            border.append(grid[i][right])                for j in range(right, left - 1, -1):            border.append(grid[bottom][j])                for i in range(bottom - 1, top, -1):            border.append(grid[i][left])                s = ''.join(border)        doubled = s + s                for i in range(len(s)):            if doubled[i:i+4] == "1543":                total += 1        print(total)